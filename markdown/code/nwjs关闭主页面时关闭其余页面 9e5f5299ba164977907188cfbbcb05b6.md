# nwjs关闭主页面时关闭其余页面

Created: April 12, 2021 10:48 AM
标签: nw.js, 代码

```jsx
// 打开一个新的窗口
	var gui = nw.Window.open(url, {}, function(win){  // win代表打开页面对象
	// 获取当前页面对象
	var thisWin = nw.Window.get()
	// 监听主页面的关闭事件，通过在主页面调用 win.close() 来触发该事件
	thisWin.on('close', function(){
		// 关闭打开的页面
		win.close()
		// 关闭主页面
		this.close(true)
	}
	// 监听打开的新窗口页面关闭时的事件触发
	win.on('closed', () => {
		// 当被打开的页面关闭时，刷新主页面
		window.location.reload()
	})
})
```